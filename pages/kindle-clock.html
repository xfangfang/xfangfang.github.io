---
permalink: /clock/
---

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>clock</title>
    <link href="https://fonts.font.im/css2?family=Julius+Sans+One" rel="stylesheet">
    <style>
      /* default: do nothing*/
      .style-0 {

      }
      /* style 1: hide weather widget */
      .style-1 #weather-v2-plugin-standard{
        display: none;
      }
      /* style 2: hide weather widget, rotate 90deg,larger text */
      .style-2 {
        -webkit-transform: rotate(90deg);
      }
      .style-2 #weather-v2-plugin-standard{
        display: none;
      }
      .style-2 #time{
        font-size: 14rem;
      }
    </style>
    <style>
        body {
          color: #000000;
          background-color: #ffffff;
          margin: 0;
        }
        .page {
          position: fixed;
          width: 100%;
          height: 100%;
          font-family: 'Julius Sans One', sans-serif;
        }
        .flash {
          background-color: #000;
        }
        .flash #weather-v2-plugin-standard{
          display: none;
        }
        #time,
        #date {
          width: 100%;
          margin: 0;padding: 0;
          margin: auto;
          text-align: center;
        }
        #time {
          top: 0;
          height: 40%;
          font-size: 10rem;

          font-weight: 700;
        }
        #date {
          height: 30%;
          font-size: 5rem;
        }

        /* adjust weather width */
        #weather-v2-plugin-standard {
          margin: auto !important;
        }
        .wv-lt-refresh,.wv-n-h-now-alarm,.wv-n-h-now-rain {
            display: none !important;
        }
        .wv-n-h-now-txt,.wv-n-h-now-tmp,.wv-lt-location span {
            font-size: 2rem !important;
        }
        .wv-lt-location a{
            font-size: 1rem !important;
        }
        img {
            width: 8rem !important;
        }
        /* adjust weather width end */
    </style>
</head>

<body>

    <div class="page style-0" id="page" >
      <div class="time" id="time" onclick="changeStyle()"></div>
      <div class="date" id="date" onclick="changeStyle()"></div>

      <!-- weather widget from  https://cj.weather.com.cn/ -->
      <div id="weather-v2-plugin-standard"></div>
      <script>
        WIDGET = {
            CONFIG: {
                "layout": 1,
                "width": document.documentElement.clientWidth * 0.7,
                "height": document.documentElement.clientHeight * 0.3,
                "background": 5,
                "dataColor": "000000",
                "modules": "10",
                "key": "1W26JbTAJH",
                "language": "auto"
              }
        }
      </script>
      <script src="https://apip.weatherdt.com/standard/static/js/weather-standard-common.js?v=2.0"></script>
     <!-- weather widget end -->
    </div>


    <script>
      var last_time;
      var style = 0;
      const time = document.getElementById("time");
      const date = document.getElementById("date");
      const page = document.getElementById("page");


      function setTimeAndDateWidgetHeight(base,timeHeight,dateHeight) {
        time.style.height = base*timeHeight+"px";
        time.style.lineHeight = base*timeHeight+"px";
        date.style.height = base*dateHeight+"px";
        date.style.lineHeight = base*dateHeight+"px";
      }
      function changeStyle() {
        var clientHeight = document.documentElement.clientHeight;
        var clientWidth = document.documentElement.clientWidth;
        switch (style) {
          case 1:
            page.classList.add('style-1');
            page.style.left = 0;
            setTimeAndDateWidgetHeight(clientHeight, 0.7, 0.3);
            style++;
            break;
          case 2:
            page.classList.remove('style-2');
            page.classList.add('style-2');
            page.style.left = -((clientHeight - clientWidth) / 2)+'px';
            setTimeAndDateWidgetHeight(clientWidth, 0.7, 0.3);
            style++;
            break;
          default:
            page.classList.remove('style-1');
            page.classList.remove('style-2');
            page.style.left = 0;
            setTimeAndDateWidgetHeight(clientHeight, 0.4, 0.3)
            style = 1;
        }
      }
      changeStyle();

      function fontSizeAutoChange(){
        var clientHeight = document.documentElement.clientHeight;
        var clientWidth = document.documentElement.clientWidth;
        document.documentElement.style.fontSize=(clientHeight/40)+"px";
      }
      fontSizeAutoChange();
      window.onresize=fontSizeAutoChange;


      function updateTime() {
        var date = new Date()
        var utc8DiffMinutes = date.getTimezoneOffset() + 480
        date.setMinutes(date.getMinutes() + utc8DiffMinutes);
        if (date.getMinutes() == 00 &&  date.getSeconds() < 2) {
          flash();
        }
        var timeString = date.getHours() + ':' + ('0' + date.getMinutes()).slice(-2)
        var dateString = (date.getMonth() + 1) + '/' + date.getDate()
        var weekList = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT']
        var weekString = weekList[date.getDay()]
        if(last_time != timeString){
            document.getElementById("time").innerHTML = timeString
            document.getElementById("date").innerHTML = dateString + ' ' +  weekString
        }
        last_time = timeString;
      }
      updateTime()
      setInterval("updateTime()", 1 * 1000)

      function flash() {
        page.classList.add('flash');
        setTimeout("page.classList.remove('flash')",1000)
      }
    </script>
</body>
</html>
